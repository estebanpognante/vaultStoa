
export const JOB_POSITIONS_DATA = [
    // Dirección / Ejecutiva
    { title: "Presidente", area: "Dirección / Ejecutiva", hierarchy: 10 },
    { title: "Vicepresidente", area: "Dirección / Ejecutiva", hierarchy: 15 },
    { title: "CEO", area: "Dirección / Ejecutiva", hierarchy: 20 },
    { title: "Director General", area: "Dirección / Ejecutiva", hierarchy: 30 },

    // Administración & Finanzas
    { title: "Director Financiero", area: "Administración & Finanzas", hierarchy: 40 },
    { title: "Gerente General", area: "Administración & Finanzas", hierarchy: 50 }, // Sometimes operational, putting here for now
    { title: "Gerente de Finanzas", area: "Administración & Finanzas", hierarchy: 60 },
    { title: "Gerente de Administración", area: "Administración & Finanzas", hierarchy: 65 },
    { title: "Jefe de Finanzas", area: "Administración & Finanzas", hierarchy: 70 },
    { title: "Jefe de Administración", area: "Administración & Finanzas", hierarchy: 75 },
    { title: "Jefe de Contabilidad", area: "Administración & Finanzas", hierarchy: 80 },
    { title: "Jefe de Costos", area: "Administración & Finanzas", hierarchy: 85 },
    { title: "Jefe de Créditos y Cobranzas", area: "Administración & Finanzas", hierarchy: 90 },
    { title: "Jefe de Tesorería", area: "Administración & Finanzas", hierarchy: 95 },
    { title: "Jefe de Impuestos", area: "Administración & Finanzas", hierarchy: 98 },
    { title: "Contador", area: "Administración & Finanzas", hierarchy: 100 },
    { title: "Analista Financiero", area: "Administración & Finanzas", hierarchy: 110 },
    { title: "Analista Contable", area: "Administración & Finanzas", hierarchy: 115 },
    { title: "Analista de Créditos", area: "Administración & Finanzas", hierarchy: 120 },
    { title: "Analista de Cuentas por Cobrar", area: "Administración & Finanzas", hierarchy: 125 },
    { title: "Analista de Cuentas por Pagar", area: "Administración & Finanzas", hierarchy: 130 },
    { title: "Analista de Impuestos", area: "Administración & Finanzas", hierarchy: 135 },
    { title: "Analista de Tesorería", area: "Administración & Finanzas", hierarchy: 140 },
    { title: "Analista de Control de Gestión", area: "Administración & Finanzas", hierarchy: 145 },
    { title: "Auxiliar de Tesorería", area: "Administración & Finanzas", hierarchy: 150 },
    { title: "Asistente Administrativo", area: "Administración & Finanzas", hierarchy: 155 },

    // Recursos Humanos
    { title: "Director de Recursos Humanos", area: "Recursos Humanos", hierarchy: 40 },
    { title: "Gerente de Recursos Humanos", area: "Recursos Humanos", hierarchy: 60 },
    { title: "Jefe de Recursos Humanos", area: "Recursos Humanos", hierarchy: 70 },
    { title: "Jefe de Administración de Personal", area: "Recursos Humanos", hierarchy: 75 },
    { title: "Jefe de Capacitación", area: "Recursos Humanos", hierarchy: 80 },
    { title: "Jefe de Selección y Reclutamiento", area: "Recursos Humanos", hierarchy: 85 },
    { title: "Coordinador de Recursos Humanos", area: "Recursos Humanos", hierarchy: 90 },
    { title: "Analista de Recursos Humanos", area: "Recursos Humanos", hierarchy: 100 },
    { title: "Analista de Capacitación", area: "Recursos Humanos", hierarchy: 110 },
    { title: "Analista de Selección", area: "Recursos Humanos", hierarchy: 115 },
    { title: "Liquidador de Sueldos", area: "Recursos Humanos", hierarchy: 120 },
    { title: "Asistente de Recursos Humanos", area: "Recursos Humanos", hierarchy: 130 },

    // Comercial / Ventas / Marketing
    { title: "Director Comercial", area: "Comercial / Ventas / Marketing", hierarchy: 40 },
    { title: "Gerente Comercial", area: "Comercial / Ventas / Marketing", hierarchy: 60 },
    { title: "Gerente de Ventas", area: "Comercial / Ventas / Marketing", hierarchy: 65 },
    { title: "Gerente de Marketing", area: "Comercial / Ventas / Marketing", hierarchy: 66 },
    { title: "Gerente de E-commerce", area: "Comercial / Ventas / Marketing", hierarchy: 67 },
    { title: "Jefe Comercial", area: "Comercial / Ventas / Marketing", hierarchy: 70 },
    { title: "Jefe de Ventas", area: "Comercial / Ventas / Marketing", hierarchy: 75 },
    { title: "Jefe de Marketing", area: "Comercial / Ventas / Marketing", hierarchy: 76 },
    { title: "Jefe de Marketing Digital", area: "Comercial / Ventas / Marketing", hierarchy: 77 },
    { title: "Jefe de Producto", area: "Comercial / Ventas / Marketing", hierarchy: 78 },
    { title: "Jefe de Servicio al Cliente", area: "Comercial / Ventas / Marketing", hierarchy: 79 },
    { title: "Coordinador de Marketing", area: "Comercial / Ventas / Marketing", hierarchy: 85 },
    { title: "Supervisor de Ventas", area: "Comercial / Ventas / Marketing", hierarchy: 90 },
    { title: "Supervisor de Call Center", area: "Comercial / Ventas / Marketing", hierarchy: 95 },
    { title: "Ejecutivo de Cuentas Clave", area: "Comercial / Ventas / Marketing", hierarchy: 100 },
    { title: "Ejecutivo de Ventas", area: "Comercial / Ventas / Marketing", hierarchy: 105 },
    { title: "Analista de Marketing", area: "Comercial / Ventas / Marketing", hierarchy: 110 },
    { title: "Community Manager", area: "Comercial / Ventas / Marketing", hierarchy: 115 },
    { title: "Asistente Comercial", area: "Comercial / Ventas / Marketing", hierarchy: 120 },
    { title: "Representante de Atención al Cliente", area: "Comercial / Ventas / Marketing", hierarchy: 130 },

    // Operaciones / Producción
    { title: "Director de Operaciones", area: "Operaciones / Producción", hierarchy: 40 },
    { title: "Gerente de Operaciones", area: "Operaciones / Producción", hierarchy: 60 },
    { title: "Gerente de Producción", area: "Operaciones / Producción", hierarchy: 65 },
    { title: "Gerente de Proyecto", area: "Operaciones / Producción", hierarchy: 67 },
    { title: "Gerente de Mantenimiento", area: "Operaciones / Producción", hierarchy: 68 },
    { title: "Gerente de Control de Calidad", area: "Operaciones / Producción", hierarchy: 69 },
    { title: "Gerente de Seguridad e Higiene", area: "Operaciones / Producción", hierarchy: 69 },
    { title: "Jefe de Planta", area: "Operaciones / Producción", hierarchy: 75 },
    { title: "Jefe de Producción", area: "Operaciones / Producción", hierarchy: 76 },
    { title: "Jefe de Mantenimiento", area: "Operaciones / Producción", hierarchy: 78 },
    { title: "Jefe de Calidad", area: "Operaciones / Producción", hierarchy: 80 },
    { title: "Líder de Proyecto", area: "Operaciones / Producción", hierarchy: 85 },
    { title: "Líder de Equipo", area: "Operaciones / Producción", hierarchy: 90 },
    { title: "Supervisor de Producción", area: "Operaciones / Producción", hierarchy: 95 },
    { title: "Supervisor de Mantenimiento", area: "Operaciones / Producción", hierarchy: 96 },
    { title: "Analista de Planeamiento de la Producción", area: "Operaciones / Producción", hierarchy: 100 },
    { title: "Analista de Calidad", area: "Operaciones / Producción", hierarchy: 105 },
    { title: "Analista de Laboratorio", area: "Operaciones / Producción", hierarchy: 107 },
    { title: "Operario de Producción", area: "Operaciones / Producción", hierarchy: 120 },
    { title: "Personal de Mantenimiento", area: "Operaciones / Producción", hierarchy: 125 },
    { title: "Sereno", area: "Operaciones / Producción", hierarchy: 130 },
    { title: "Personal de Limpieza", area: "Operaciones / Producción", hierarchy: 140 },

    // Logística / Compras / Comex
    { title: "Gerente de Supply Chain", area: "Logística / Compras / Comex", hierarchy: 60 },
    { title: "Gerente de Logística", area: "Logística / Compras / Comex", hierarchy: 65 },
    { title: "Gerente de Compras", area: "Logística / Compras / Comex", hierarchy: 66 },
    { title: "Gerente de Comercio Exterior", area: "Logística / Compras / Comex", hierarchy: 67 },
    { title: "Jefe de Logística", area: "Logística / Compras / Comex", hierarchy: 75 },
    { title: "Jefe de Compras", area: "Logística / Compras / Comex", hierarchy: 76 },
    { title: "Jefe de Comercio Exterior", area: "Logística / Compras / Comex", hierarchy: 77 },
    { title: "Jefe de Almacén", area: "Logística / Compras / Comex", hierarchy: 80 },
    { title: "Jefe de Depósito", area: "Logística / Compras / Comex", hierarchy: 80 },
    { title: "Jefe de Distribución", area: "Logística / Compras / Comex", hierarchy: 82 },
    { title: "Jefe de Inventarios", area: "Logística / Compras / Comex", hierarchy: 83 },
    { title: "Jefe de Tráfico", area: "Logística / Compras / Comex", hierarchy: 84 },
    { title: "Jefe de Importaciones", area: "Logística / Compras / Comex", hierarchy: 85 },
    { title: "Jefe de Exportaciones", area: "Logística / Compras / Comex", hierarchy: 86 },
    { title: "Supervisor de Logística", area: "Logística / Compras / Comex", hierarchy: 90 },
    { title: "Supervisor de Depósito", area: "Logística / Compras / Comex", hierarchy: 91 },
    { title: "Analista de Logística", area: "Logística / Compras / Comex", hierarchy: 100 },
    { title: "Analista de Compras", area: "Logística / Compras / Comex", hierarchy: 101 },
    { title: "Analista de Comercio Exterior", area: "Logística / Compras / Comex", hierarchy: 102 },
    { title: "Analista de Importaciones", area: "Logística / Compras / Comex", hierarchy: 103 },
    { title: "Analista de Exportaciones", area: "Logística / Compras / Comex", hierarchy: 104 },
    { title: "Analista de Inventarios", area: "Logística / Compras / Comex", hierarchy: 105 },
    { title: "Comprador Técnico", area: "Logística / Compras / Comex", hierarchy: 106 },
    { title: "Encargado de Expedición", area: "Logística / Compras / Comex", hierarchy: 110 },
    { title: "Operario de Depósito", area: "Logística / Compras / Comex", hierarchy: 120 },
    { title: "Autoelevadorista", area: "Logística / Compras / Comex", hierarchy: 125 },
    { title: "Chofer", area: "Logística / Compras / Comex", hierarchy: 130 },

    // Tecnología / Sistemas
    { title: "Director de Tecnología", area: "Tecnología / Sistemas", hierarchy: 40 },
    { title: "Gerente de Sistemas", area: "Tecnología / Sistemas", hierarchy: 60 },
    { title: "Jefe de Sistemas", area: "Tecnología / Sistemas", hierarchy: 75 },
    { title: "Jefe de Desarrollo de Software", area: "Tecnología / Sistemas", hierarchy: 78 },
    { title: "Jefe de Infraestructura", area: "Tecnología / Sistemas", hierarchy: 79 },
    { title: "Jefe de Seguridad Informática", area: "Tecnología / Sistemas", hierarchy: 80 },
    { title: "Jefe de Soporte Técnico", area: "Tecnología / Sistemas", hierarchy: 82 },
    { title: "Analista de Sistemas", area: "Tecnología / Sistemas", hierarchy: 90 },
    { title: "Analista Funcional", area: "Tecnología / Sistemas", hierarchy: 95 },
    { title: "Administrador de Base de Datos", area: "Tecnología / Sistemas", hierarchy: 100 },
    { title: "Administrador de Redes", area: "Tecnología / Sistemas", hierarchy: 102 },
    { title: "Desarrollador de Software", area: "Tecnología / Sistemas", hierarchy: 105 },
    { title: "Tester", area: "Tecnología / Sistemas", hierarchy: 110 },
    { title: "Soporte Técnico", area: "Tecnología / Sistemas", hierarchy: 120 },

    // Legales / Otros
    { title: "Gerente de Legales", area: "Legales / Otros", hierarchy: 60 },
    { title: "Auditor Interno", area: "Legales / Otros", hierarchy: 80 },
    { title: "Abogado Corporativo", area: "Legales / Otros", hierarchy: 100 },
    { title: "Secretaria Ejecutiva", area: "Legales / Otros", hierarchy: 120 },
    { title: "Coordinador Administrativo", area: "Legales / Otros", hierarchy: 125 },
    { title: "Recepcionista", area: "Legales / Otros", hierarchy: 140 },
    { title: "Diseñador Gráfico", area: "Comercial / Ventas / Marketing", hierarchy: 112 }, // Fixed area
];

import { collection, getDocs, writeBatch, doc } from 'firebase/firestore';
import { db } from '../config/firebase';

export const seedJobPositions = async () => {
    try {
        const colRef = collection(db, 'job_positions');
        const snapshot = await getDocs(colRef);

        if (snapshot.empty) {
            console.log("Seeding job positions...");
            const batch = writeBatch(db);

            JOB_POSITIONS_DATA.forEach((pos) => {
                const docRef = doc(colRef); // Generate auto ID
                batch.set(docRef, { ...pos, isActive: true });
            });

            await batch.commit();
            console.log("Job positions seeded successfully!");
            return true;
        } else {
            // Check for duplicates and clean up
            const positions = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
            const seenTitles = new Set();
            const duplicates = [];

            positions.forEach(pos => {
                if (seenTitles.has(pos.title)) {
                    duplicates.push(pos.id);
                } else {
                    seenTitles.add(pos.title);
                }
            });

            if (duplicates.length > 0) {
                console.log(`Found ${duplicates.length} duplicates. Cleaning up...`);
                const batch = writeBatch(db);
                duplicates.forEach(id => {
                    batch.delete(doc(colRef, id));
                });
                await batch.commit();
                console.log("Duplicates removed.");
                return true; // Return true to trigger reload in component if needed
            }
        }
        return false;
    } catch (error) {
        console.error("Error seeding/cleaning job positions:", error);
        return false;
    }
};
